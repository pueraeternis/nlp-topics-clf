# Классификатор тематик постов социальной сети

Сервис для классификации тематик постов в социальной сети. Модель принимает на вход текст поста и возвращает результаты в формате JSON, включающие предсказанную метку и вероятности для разных классов.

## Описание структуры вывода

Результат работы модели возвращается в виде JSON с полями:

```json
{
    "label": "winter_sport",
    "probabilities": {
        "athletics": 0.0201,
        "autosport": 0.0026,
        "basketball": 0.0023,
        "boardgames": 0.0033,
        "esport": 0.0007,
        "extreme": 0.0336,
        "football": 0.0024,
        "hockey": 0.0015,
        "martial_arts": 0.0026,
        "motosport": 0.0408,
        "tennis": 0.0021,
        "volleyball": 0.0019,
        "winter_sport": 0.8862
        }
}
```

### Описание полей:

- `label`: метка, назначенная моделью, которая определяется как класс с самой высокой вероятностью.
  
- `probabilities`: отображение классов и их вероятностей, выведенное моделью. Каждому классу присваивается вероятность, которая указывает на степень уверенности модели в правильности классификации.

## Зависимости

Все применяемые библиотеки являются открытым исходным кодом и доступны для общего пользования.

- **scikit-learn**: Библиотека для машинного обучения. Документация: https://pypi.org/project/scikit-learn/
- **pymorphy3**: Морфологический анализатор (POS-теггер + движок словоизменения) для русского языка. Документация: https://pypi.org/project/pymorphy3/
- **stop-words**: Стоп-слова для русского языка (предлоги, союзы, междометия и пр.). Документация: https://pypi.org/project/stop-words/
- **fastapi**: FastAPI — современный, высокопроизводительный веб-фреймворк для создания API с помощью Python. Документация: https://pypi.org/project/fastapi/
- **uvicorn**: Uvicorn — реализация веб-сервера ASGI для Python. Документация: https://pypi.org/project/uvicorn/

## Использование

Сервис запускается при помощи docker compose командой:

```bash
docker compose up
```

Далее можно обращаться к эндпойнту `/predict`. Пример клиента можно посмотерть в файле `client.py`. Пример запроса с помощью команды `curl`:

```bash
curl -X POST http://localhost:8080/predict \
    -H "Content-Type: application/json" \
    -d '{"text": "Зимой я люблю кататься на лыжах. Как правило, я просто бегаю по парку."}'
```
